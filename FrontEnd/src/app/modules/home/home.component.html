<!-- HERO -->
<section
  class="relative flex flex-col text-left text-white overflow-hidden transition-all duration-700"
  [ngStyle]="{
    'min-height': '100vh',
    'background-image': 'url(' + currentBg + ')',
    'background-size': 'cover',
    'background-position': 'center center',
    'background-repeat': 'no-repeat'
  }"
>
  <!-- overlay azul -->
  <div
    class="absolute inset-0 bg-gradient-to-t from-[#0D1440]/80 to-[#0D1440]/30"
  ></div>

  <!-- CONTENIDO SUPERIOR -->
  <div
    class="relative z-10 px-8 sm:px-16 pt-8 sm:pt-10 pb-16 sm:pb-20 animate-fadeIn"
  >
    <!-- fila: texto izq / botón der -->
    <div class="flex items-start justify-between gap-8">
      <!-- TEXTO IZQUIERDA -->
      <div class="max-w-5xl">
        <h1
          class="text-4xl sm:text-6xl font-bold leading-tight mb-4 tracking-tight drop-shadow-lg text-white"
        >
          Sistema de registros de actividades académicas
        </h1>
      </div>

      <!-- BOTÓN ARRIBA DERECHA (desktop) -->
      <div class="hidden sm:block">
        <button
          type="button"
          (click)="toggleLogin()"
          class="bg-yellow-400 hover:bg-yellow-300 text-[#0D1440] font-semibold px-6 py-3 rounded-md shadow-md transition"
        >
          Iniciar sesión
        </button>
      </div>
    </div>

    <!-- BOTÓN DEBAJO DEL TEXTO (solo mobile) -->
    <div class="mt-6 sm:hidden">
      <button
        type="button"
        (click)="toggleLogin()"
        class="bg-yellow-400 hover:bg-yellow-300 text-[#0D1440] font-semibold px-6 py-3 rounded-md shadow-md transition"
      >
        Iniciar sesión
      </button>
    </div>
  </div>
</section>

<!-- FOOTER OCULTO -->
<app-footer></app-footer>

<!-- SLIDE LOGIN -->
<div
  class="fixed left-0 right-0 bottom-0 z-40"
  [style.top.px]="0"
  [class.pointer-events-none]="!loginOpen"
  aria-hidden="true"
>
  <div
    class="absolute inset-0 transition-opacity duration-300"
    [ngClass]="
      loginOpen
        ? 'opacity-100 bg-black/40 backdrop-blur-[2px]'
        : 'opacity-0 bg-transparent'
    "
    (click)="closeLogin()"
  ></div>

  <!-- SLIDE LOGIN COMO TARJETA CENTRADA -->
  <div
    class="fixed inset-0 z-50 flex items-center justify-center px-4"
    [class.pointer-events-none]="!loginOpen"
    aria-hidden="true"
  >
    <!-- FONDO OSCURO -->
    <div
      class="absolute inset-0 transition-opacity duration-300 bg-black/40 backdrop-blur-sm"
      [ngClass]="loginOpen ? 'opacity-100' : 'opacity-0'"
      (click)="closeLogin()"
    ></div>

    <!-- TARJETA DE LOGIN -->
    <div
      class="relative bg-white rounded-2xl shadow-2xl max-w-md w-full transform transition-all duration-500 scale-95 min-h-[520px] flex flex-col"
      [ngClass]="loginOpen ? 'opacity-100 scale-100' : 'opacity-0 scale-95'"
      (click)="$event.stopPropagation()"
      role="dialog"
      aria-modal="true"
    >
      <!-- CABECERA: azul, texto blanco, centrado, más pequeño, sin X -->
      <div
        class="flex items-center justify-center px-6 py-3 border-b border-gray-200 bg-[#0D1440] rounded-t-2xl"
      >
        <h2 class="text-base font-medium text-white text-center">
          Iniciar sesión
        </h2>
      </div>

      <!-- CONTENIDO FLEXIBLE (empuja el botón hacia abajo) -->
      <div class="flex-1 p-8 flex flex-col justify-between">
        <!-- FORMULARIO -->
        <form [formGroup]="form" class="space-y-5 w-full">
          <!-- EMAIL -->
          <div class="flex flex-col">
            <label
              for="email"
              class="text-sm font-semibold text-gray-700 mb-1"
            >
              Correo electrónico
            </label>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="tu@correo.com"
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-gray-900 transition"
              autocomplete="username"
            />
          </div>

          <!-- PASSWORD -->
          <div class="flex flex-col">
            <label
              for="password"
              class="text-sm font-semibold text-gray-700 mb-1"
            >
              Contraseña
            </label>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="••••••••"
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-gray-900 transition"
              autocomplete="current-password"
            />
          </div>
        </form>

        <!-- BOTÓN ACCEDER ABAJO -->
        <button
          type="button"
          (click)="submit()"
          [disabled]="form.invalid"
          class="w-full bg-yellow-400 hover:bg-yellow-300 text-[#0D1440] rounded-lg px-4 py-3 font-semibold shadow-lg transition transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed mt-8"
        >
          Acceder
        </button>
      </div>
    </div>
  </div>
</div>
