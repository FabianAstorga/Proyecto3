<!-- HERO -->
<section
  class="relative flex flex-col justify-center text-left text-white overflow-hidden transition-all duration-700"
  [ngStyle]="{
    'min-height': '100vh',
    'background-image': 'url(' + currentBg + ')',
    'background-size': 'cover',
    'background-position': 'center center',
    'background-repeat': 'no-repeat'
  }"
>
  <div
    class="absolute inset-0 bg-gradient-to-t from-[#0D1440]/80 to-[#0D1440]/30"
  ></div>

  <div
    class="relative z-10 px-8 sm:px-16 max-w-4xl py-20 sm:py-0 animate-fadeIn"
  >
    <h1
      class="text-4xl sm:text-6xl font-bold leading-tight mb-6 tracking-tight drop-shadow-lg"
    >
      Sistema de registros<br />
      <span class="text-yellow-400">de actividades académicas</span>
    </h1>

    <p class="text-base sm:text-lg text-gray-100 max-w-xl opacity-90 mb-8">
      Optimiza y centraliza la gestión de las actividades curriculares del
      Departamento de Ingeniería Mecánica.
    </p>

    <a
      (click)="toggleLogin()"
      class="inline-block bg-yellow-400 hover:bg-yellow-300 text-[#0D1440] font-semibold px-6 py-3 rounded-md shadow-md transition"
    >
      Iniciar sesión
    </a>
  </div>
</section>

<!-- FOOTER OCULTO -->
<app-footer></app-footer>

<!-- SLIDE LOGIN -->
<div
  class="fixed left-0 right-0 bottom-0 z-40"
  [style.top.px]="0"
  [class.pointer-events-none]="!loginOpen"
  aria-hidden="true"
>
  <div
    class="absolute inset-0 transition-opacity duration-300"
    [ngClass]="
      loginOpen
        ? 'opacity-100 bg-black/40 backdrop-blur-[2px]'
        : 'opacity-0 bg-transparent'
    "
    (click)="closeLogin()"
  ></div>

  <!-- SLIDE LOGIN COMO TARJETA CENTRADA -->
  <div
    class="fixed inset-0 z-50 flex items-center justify-center px-4"
    [class.pointer-events-none]="!loginOpen"
    aria-hidden="true"
  >
    <!-- FONDO OSCURO -->
    <div
      class="absolute inset-0 transition-opacity duration-300 bg-black/40 backdrop-blur-sm"
      [ngClass]="loginOpen ? 'opacity-100' : 'opacity-0'"
      (click)="closeLogin()"
    ></div>

    <!-- TARJETA DE LOGIN -->
    <div
      class="relative bg-white rounded-2xl shadow-2xl max-w-md w-full transform transition-all duration-500 scale-95"
      [ngClass]="loginOpen ? 'opacity-100 scale-100' : 'opacity-0 scale-95'"
      (click)="$event.stopPropagation()"
      role="dialog"
      aria-modal="true"
    >
      <!-- CABECERA -->
      <div
        class="flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-yellow-400 to-yellow-300 rounded-t-2xl"
      >
        <div class="flex items-center gap-3">
          <img src="/logodim.png" alt="Logo" class="h-10 w-auto" />
          <h2 class="text-lg font-semibold text-gray-900">Iniciar sesión</h2>
        </div>
        <button
          type="button"
          (click)="closeLogin()"
          class="p-2 rounded-full hover:bg-gray-100 focus:outline-none focus:ring-2 ring-yellow-400 transition"
          aria-label="Cerrar panel de login"
        >
          ✕
        </button>
      </div>

      <!-- FORMULARIO -->
      <div class="p-8 space-y-6">
        <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-5">
          <!-- EMAIL -->
          <div class="flex flex-col">
            <label for="email" class="text-sm font-semibold text-gray-700 mb-1">
              Correo electrónico
            </label>
            <input
              id="email"
              type="email"
              formControlName="email"
              placeholder="tu@correo.com"
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-gray-900 transition"
              autocomplete="username"
            />
          </div>

          <!-- PASSWORD -->
          <div class="flex flex-col">
            <label
              for="password"
              class="text-sm font-semibold text-gray-700 mb-1"
            >
              Contraseña
            </label>
            <input
              id="password"
              [type]="showPassword ? 'text' : 'password'"
              formControlName="password"
              placeholder="••••••••"
              class="w-full rounded-lg border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-gray-900 transition"
              autocomplete="current-password"
            />
          </div>

          <!-- BOTÓN ACCEDER -->
          <button
            type="submit"
            [disabled]="form.invalid"
            class="w-full bg-yellow-400 hover:bg-yellow-300 text-[#0D1440] rounded-lg px-4 py-3 font-semibold shadow-lg transition transform hover:scale-105"
          >
            Acceder
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
