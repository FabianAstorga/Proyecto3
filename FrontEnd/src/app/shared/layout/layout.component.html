<!-- SIDEBAR -->
<aside
  class="fixed inset-y-0 left-0 z-30 flex flex-col shadow transition-[width,background-color] duration-300 ease-in-out"
  (mouseenter)="onEnterSidebar()"
  (mouseleave)="onLeaveSidebar()"
  [ngClass]="isCollapsed ? 'w-14 bg-yellow-400' : 'w-72 bg-white'"
>
  <ng-container *ngIf="!isCollapsed; else collapsedRail">
    <!-- Franja amarilla -->
    <div
      class="bg-yellow-400 text-black px-5 py-3 flex items-center gap-3 transition-all duration-300"
      [ngClass]="showMenu ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-1'"
    >
      <img src="/logouta.png" alt="Logo" class="h-12 w-auto" />
      <div class="text-sm font-semibold tracking-wide">Registro UTA</div>
    </div>

    <!-- Menú -->
    <nav class="p-4 pt-6 text-base space-y-3">
      <a *ngFor="let item of navItems; let i = index"
         [routerLink]="item.link"
         class="block px-4 py-2.5 rounded-md border border-gray-300 font-semibold text-black hover:bg-gray-100 transition-all duration-300"
         [ngStyle]="{'transition-delay.ms': showMenu ? (40*(i+1)) : 0}"
         [ngClass]="showMenu ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-2'">
        {{ item.label }}
      </a>
      <div class="pt-3 mt-3 border-t border-gray-200"></div>
    </nav>
  </ng-container>

  <!-- Rail colapsado -->
  <ng-template #collapsedRail>
    <div class="flex-1 flex flex-col items-center justify-center relative">
      <!-- Logo -->
      <img src="/logouta.png" alt="Logo" class="h-15 w-auto mb-6" />

      <!-- Indicador visual (líneas verticales) -->

<div class="flex flex-col items-center justify-center space-y-1 absolute top-1/2 -translate-y-1/2 right-1">
  <div class="w-[3px] h-4 bg-white rounded-full"></div>
  <div class="w-[3px] h-4 bg-white rounded-full"></div>
  <div class="w-[3px] h-4 bg-white rounded-full"></div>
</div>
    </div>
  </ng-template>
</aside>

<!-- CONTENEDOR PRINCIPAL -->
<main
  class="min-h-screen transition-[margin] duration-300 ease-in-out"
  [ngClass]="isCollapsed ? 'ml-14' : 'ml-72'"
  style="background-color:#F4F8FF;"
>
  <!-- HOTBAR -->
  <header class="bg-[#0D1440] text-white">
    <div class="max-w-7xl mx-auto px-6 py-3 flex items-center justify-between">
      <div
        class="font-bold tracking-wide leading-none
               text-base sm:text-lg md:text-xl whitespace-nowrap overflow-hidden text-ellipsis"
        aria-label="Rol del usuario"
      >
        {{ title }}
      </div>

      <a [routerLink]="logoutLink"
         class="inline-flex items-center gap-2 px-4 py-1.5 rounded-md
                bg-white text-gray-900 font-semibold shadow-sm hover:shadow
                hover:bg-gray-100 focus:outline-none focus:ring-2 ring-yellow-300 transition text-sm">
        Cerrar sesión
      </a>
    </div>
  </header>

  <!-- CONTENIDO INYECTADO -->
  <section class="max-w-7xl mx-auto px-6 py-6">
    <ng-content></ng-content>
  </section>
</main>
